    - name: Distribution
      debug: msg="{{ ansible_hostname }}"
      
    - name: copy dotfiles.tar to other systems
      copy:
        remote_src: false
        src: /home/mdries/dotfiles.tar
        dest: /tmp/ 

#------ Clean up first -------
    - name: clean git files
      file:
        path: /home/mdries/.git
        state: absent

    - name: clean .zshrc
      file:
        path: /home/mdries/.zshrc
        state: absent

    - name: clean .vimrc
      file:
        path: /home/mdries/.vimrc
        state: absent

    - name: clean .config
      file:
        path: /home/mdries/.config
        state: absent

    - name: clean .local
      file:
        path: /home/mdries/.local
        state: absent

    - name: clean .on-my-zsh
      file:
        path: /home/mdries/.oh-my-zsh
        state: absent

    - name: clean .zshrc.old
      file:
        path: /home/mdries/.zshrc.old
        state: absent

    - name: clean .zshrc.stock
      file:
        path: /home/mdries/.zshrc.stock
        state: absent

    - name: clean ssh-config
      file:
        path: /home/mdries/ssh-config
        state: absent

    - name: clean dotfiles
      file:
        path: /home/mdries/dotfiles
        state: absent

#----- extract dotfiles.tar ------

    - name: extract dotfiles
      unarchive:
        src: /tmp/dotfiles.tar
        dest: /home/mdries/
        remote_src: true
